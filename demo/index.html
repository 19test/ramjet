<!DOCTYPE html>
<html>
<head>
	<meta charset='utf8'>
	<title>mogrify</title>

	<style>
		.upper-container {
			width: 100%;
			height: 200px;
		}

		.lower-container {
			width: 100%;
			height: 200px;
			padding: 0 0 0 200px;
			box-sizing: border-box;
		}

		p {
			display: inline-block;
		}

		#one {
			color: blue;
		}

		#two {
			color: white;
			background-color: red;
			font-size: 2em;
			visibility: hidden;
		}

		#three {
			position: absolute;
			right: 50px;
			top: 50px;
			visibility: hidden;
			width: 400px;
		}
	</style>
</head>

<body>

	<div class='upper-container'>
		<p id='one'>this is the first element</p>
	</div>

	<div class='lower-container'>
		<p id='two'>this is the second element,<br> which is a completely different shape</p>
	</div>

	<img id='three' src='llama.jpg'>

	<script src='../mogrify.js'></script>

	<script>
		function oneToTwo () {
			two.style.visibility = 'visible';
			mogrify( one, two , { duration: 400 }).then( function () {
				setTimeout( twoToThree, 1000 );
			});
		}

		function twoToThree () {
			three.style.visibility = 'visible';
			mogrify( two, three, { duration: 400 }).then( function () {
				setTimeout( threeToOne, 1000 );
			});
		}

		function threeToOne () {
			one.style.visibility = 'visible';
			mogrify( three, one, { duration: 400 }).then( function () {
				setTimeout( oneToTwo, 1000 );
			});
		}

		setTimeout( oneToTwo, 1000 );
	</script>
</body>
</html>
